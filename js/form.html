<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div id="userbackgound">
    <div id="downloadurl">
      <p><strong>Downloadurl ---><strong><span><input type="text" id="downloadurlinput"></span></p>
    </div>
    <div id="offlineurl">
      <p><strong>Offlineurl ---><strong><span><input type="text" id="offlineurlinput"></span></p>
    </div>
    <div id="submitbtn" onclick="submitinfo()"></div>
    <div id="verifycode"><img src="" id="verifyimg"><span><input type="text" id="verifyinput"></span></div>
  </div>
  <script>
  function submitinfo(){
    var durl=document.getElementById("downloadurlinput").value;
    if(durl.length==0){return;}
    else{
      //初始化ajax
      var xmlhttp=new XMLHttpRequest();
      xmlhttp.open("POST","ajaxapi",true);
      xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
      xmlhttp.send("downloadurl="+durl);
      xmlhttp.onreadystatechange=function(){
        if(xmlhttp.readyState==4&&xmlhttp.status==200){
          document.getElementById("offlineurlinput").value=xmlhttp.responseText;
        }
      }
    }
  }
  </script>
</body>
</html>
